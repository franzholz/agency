2018-04-10 Franz Holzinger  <franz@ttproducts.de>
    * bugfix: The database must not be updated immediately when the confirmation link has been clicked and when the ask again screen is activated.
    * bugfix: the FE user group has been lost after editing a record
    * rename sendInfo into processInfo because also the display screen for the sending of the password is rendered here
    * bugfix for the sending of the lost password. The configuration $conf has not been initialized. No internal temporary password is generated any more. The user can log in for one time without a password. This is the same feature as before when he the temporary password has been stored internally in the fe_users record.
    * add the constant \JambageCom\Agency\Constants\Field::CAPTCHA for captcha_response
    * restructuring: move \JambageCom\Agency\Request::securePassword into \JambageCom\Agency\Security\SecuredData::securePassword
    * restructuring: move \JambageCom\Agency\Request::getTransmissionSecurity into \JambageCom\Agency\Security\SecuredData::getTransmissionSecurity
    * restructuring: move \JambageCom\Agency\Request::getStorageSecurity into \JambageCom\Agency\Security\SecuredData::getStorageSecurity
    * extract methods writePassword, readPasswordForStorage, readPassword, generatePassword and readSecuredArray from class Request/Parameters into class Security\SecuredData under the same names
    * extract methods readSessionData, writeSessionData and clearSessionData from class Request/Parameters into class Utility/SessionUtility as readData, writeData and clearData
    * restructuring: move \JambageCom\Agency\Security\StorageSecurity into extension div2007 \JambageCom\Div2007\Security\StorageSecurity
    * restructuring: move \JambageCom\Agency\Security\TransmissionSecurity into extension div2007 \JambageCom\Div2007\Security\TransmissionSecurity
    
2018-03-30 Franz Holzinger  <franz@ttproducts.de>
    * bugfix: do not decrypt a RSA password when it is empty or has no required rsa prefix.
    * new feature: add a javacript generator as a workaround to deal with a password again field for the RSA transmission security. This is necessary to avoid a second encryption and to come into other error cases. Encrpted passwords cannot be verified directly.

2018-03-26 Franz Holzinger  <franz@ttproducts.de>
    * copy the template file template/tx_agency_css_tmpl.html into Resorces/Private/Templates/AgencyRegistrationTemplate.html

2018-03-12 Franz Holzinger  <franz@ttproducts.de>
    * bugfix: "on" = 0 is TRUE. The Tca class method modifyRow must compare to "on" with three equation signs ===. The support for "on" as a valid value for a check field will continue, however it should be 1.

2018-03-07 Franz Holzinger  <franz@ttproducts.de>
    * copy the language files into Resorces/Private/Language in XLF format and rename the root locallang.xlf into locallang_db_layout.xlf
    * move ActionController::login into System::login

2018-03-02 Franz Holzinger <franz@ttproducts.de>
    * rename Classes/Api/Email.php => Classes/Controller/Email.php
    * extract methods computeUrl and storeFixedPiVars from class Controller/Setfixed into class Setfixed/SetfixedUrls as compute and storeFixedPiVars. Remove the not any more needed method parameter variables $setfixedObj from several classes.
    * extract methods getOpenFields, getSecuredFieldArray, getSecuredValue and secureInput from class Request/Parameters into class Security/SecuredData as getOpenFields, getSecuredFields, getSecuredValue and secureInput

2018-02-26 Franz Holzinger <franz@ttproducts.de>
    * move getSimpleTemplate from CreateView into Template

2018-02-21 Franz Holzinger <franz@ttproducts.de>
    * extract methods render for class AfterSaveView and getKeyAfterSave for Template out of the CreateView methods afterSave and getKeyAfterSave

2018-02-13 Franz Holzinger <franz@ttproducts.de>
    * extract classes DeleteView, EditView and Template out of CreateView

2018-01-06 Franz Holzinger <franz@ttproducts.de>
    * new feature: Add a cancel option to the confirmation dialog for APPROVE and DELETE
    * new feature: automatic generation of customer number
    * new feature: add the marker ###XHTML### which can transform the HTML into XHTML

2017-12-21 Franz Holzinger <franz@ttproducts.de>
    * bugfix: XHTML shall be used in the example HTML template file

2017-12-20 Franz Holzinger <franz@ttproducts.de>
    * bugfix: no htmlspecialchars must be done with link urls because the & must remain in the form action

2017-11-30 Franz Holzinger <franz@ttproducts.de>
    * bugfix: CaptchaManager for TYPO3 7 and 8

2017-11-28 Franz Holzinger <franz@ttproducts.de>
    * insert a check to verify if the static setup from this extension has been included in the website TypoScript

2017-10-05 Franz Holzinger <franz@ttproducts.de>
    * support for extensions like agency_tt_address
    * bugfix: CaptchaManager for TYPO3 7 and 8
    * bugfix: doNotEnforceUsername must not require the username even if it is in setup
    * replace all t3lib functions in the new classname code

2017-07-29 Franz Holzinger <franz@ttproducts.de>
    * bugfix: The security hash must always be valid during a CREATE if no former value exists.
    * bugfix: No automatic login must be tempted after an APPROVE
    * support for TYPO3 8.x

2017-02-10 Franz Holzinger <franz@ttproducts.de>
    * bugfix: value set by overrideValues if must not be overwritten again

2016-11-26 Franz Holzinger <franz@ttproducts.de>
	* bugfix: zero (0) checkbox value has been wrongly converted into On

2016-11-22 Franz Holzinger <franz@ttproducts.de>
	* bugfix PHP error: Missing argument 25 for tx_agency_email::compile
	* new feature: FE has_privileges in order to have special features to this user in other extensions like discounts in tt_products and voucher

2016-11-16 Franz Holzinger <franz@ttproducts.de>
	* bugfix: Check if the table sys_dmail_category exists before its TCA is added. Otherwise the LIST module will produce SQL errors.

2016-08-31 Franz Holzinger <franz@ttproducts.de>
	* bugfix: text and blob must have a default null value by TCA and not by SQL

2016-08-23 Franz Holzinger <franz@ttproducts.de>
	* bugfix: Setfixed needs the read in original array in order to generated the authorization key by the user group. It must not be cleared.
	* bugfix: Support STRICT mysql mode STRICT_ALL_TABLES and STRICT_TRANS_TABLES.
	  Add default NULL values to tinytext, text and blob
	* bugfix: TYPO3 does not support the compatVersion in the setup. Users of TYPO3 4.5 must add the additional setup for Agency Registration compatibility TYPO3 4.5

2016-07-30 Franz Holzinger <franz@ttproducts.de>
	* fix bugs for PHP 7
	* make the securedFieldArray static because they should not be changed dynamically

2016-07-29 Franz Holzinger <franz@ttproducts.de>
	* fix bug #77211: The password field on the edit form must not be prefilled by Firefox or other browsers

2016-07-25 Franz Holzinger <franz@ttproducts.de>
	* fix bug #77232: bugfix for PHP 7.x. replace all tx_div2007_alpha class methods by corresponding tx_div2007_alpha5 methods
	* suggestion for bug #77217: set keepUnselectableUserGroups to 1 by default

2016-07-23 Franz Holzinger <franz@ttproducts.de>
	* restructuring: move constants.txt and setup.txt from folder static into /Configuration/TypoScript/PluginSetup/
	* restructuring: copy files  pi/class.tx_agency_pi_base.php and control/class.tx_agency_control_main.php into Classes/Controller/RegisterPluginController.php, Classes/Controller/InitializationController.php and Classes/Configuration/ConfigurationCheck.php.
	* fix bug #77229: use the newer class tx_div2007_alpha5::getSetupOrFFvalue_fh004 instead of tx_div2007_alpha::getSetupOrFFvalue_fh002 .

2016-06-18 Franz Holzinger <franz@ttproducts.de>
	* bugfix in file Configuration/TCA/sys_dmail_category.php

2016-06-17 Franz Holzinger <franz@ttproducts.de>
	* feature: Support for TYPO3 7.x. Make a copy of class tx_agency_display under JambageCom\\Agency\\View\\CreateView which calls the div2007 method FrontendUtility::getUpdateJS instead of the TYPO3 CONTENT object

2016-06-15 Franz Holzinger <franz@ttproducts.de>
	* bugfix: The first view of the creation page must not show any error messages.
	* feature: Consider Microsoft Windows limitations to the endtime year 2038
	* bugfix for TYPO3 6.2 and 7.x: use the TYPO3 6.2 class name
		\TYPO3\CMS\Core\Utility\ExtensionManagementUtility instead of t3lib_extMgm and
		\TYPO3\CMS\Core\Utility\GeneralUtility instead of t3lib_div
	* bugfix for TYPO3 6.2 and 7.x: consider the DirectMail categories if DirectMail is not installed.

2016-06-14 Franz Holzinger <franz@ttproducts.de>
	* bugfix for PHP 7.x: The method init of tx_agency_lang cannot overload init of tx_div2007_alpha_language_base. init1 must be used instead.
	* remove the $Id$ file versions which have been used by subversion
	* remove the closing php brackets
	* remove the markers ###PASSWORD_ONCHANGE### and ###NAME_PASSWORD###
	* change the input password attributes into the order type, name, id, class, ... title, value

2015-12-07 Franz Holzinger <franz@ttproducts.de>
	* bug fix: multiple checkbox looses the first zero value 0. parseValues must take care of a zero 0.
	* bug fix: PHP 5.4 fatal error. Can't use method return value in write context with empty around getFeUserData
	* feature: Show an error message if the template file is not found.
	* fix bug #60509
	* fix bug #59450: Missing SQL definition for telephone. Extend the table fields of fe_users.

2015-10-17 Franz Holzinger <franz@ttproducts.de>
	* bug fix: Build a loop over all login methods until salted passwords are supported.
	* bug fix: do not skip the preview before a deletion

2015-09-11 Franz Holzinger <franz@ttproducts.de>
	* bug fix: The modified dataArray must be stored internally.
	* bug fix: The saved checkbox value for the acknowledged terms did not get stored.

2015-09-10 Franz Holzinger <franz@ttproducts.de>
	* bug fix: deletion of image. The Javascript onsubmit function of the deletion image input field loses the field name called submit_delete. Write a new Javascript function to have also fewer code.
	* bug fix: show TCA type check correctly in the preview and save it as a bit field integer

2015-08-15 Franz Holzinger <franz@ttproducts.de>
	* bug fix: The password command after INVITE must not modify any of the other fields. There is no uncheck of a checkbox in this case.
	* bug fix: the field list must be determined before modifyRow

2015-07-17 Franz Holzinger <franz@ttproducts.de>
	* bug fix: forgotten parameter 2 for method addPasswordTransmissionMarkers
	* change: set uploadFolder to fileadmin/user_uploads for TYPO3 6.2

2015-07-08 Franz Holzinger <franz@ttproducts.de>
	* bug fix: select box id must use the field name as a part of it
	* bug fix: do not clear the session password for autologin on create
	* change: do not exit in the inside of the login function
	* fix bug #67629: RSA authentification for TYPO3 6.2

2015-05-20 Franz Holzinger <franz@ttproducts.de>
	* bug fix: invite must set enableAutoLoginOnInviteConfirmation for auto login

2015-05-15 Franz Holzinger <franz@ttproducts.de>
	* bug fix: no PHP warning message for wrong array indices - illegal string offset
	* add method generateHash to generate a hash from a parameter array
	* bug fix: invite and delete

2015-04-30 Franz Holzinger <franz@ttproducts.de>
	* bug #65141: workaround for the EM in the TYPO3 backend

2015-04-21 Franz Holzinger <franz@ttproducts.de>
	* bug fix: wrong call for hook registrationProcess_beforeSaveDelete
	* bug fix: the original internal array must never be changeable

2015-02-28 Franz Holzinger <franz@ttproducts.de>
	* security fix: do not allow the edit command if the logged in FE user uid does not equal the hidden field FE[fe_users][uid]

2014-12-27 Franz Holzinger <franz@ttproducts.de>
	* incorporate modifications until sr_feuser_register 3.1.3

2014-08-17 Franz Holzinger <franz@ttproducts.de>
	* changes in the hook functions
	* support for improved voucher codes of voucher extension 0.2.0
	* make authorisation services configurable authServiceClass
	* add table sys_agency_fe_users_limit_fe_groups to store a FE user specific start- and endtime for an assigned FE user group (added by the voucher extension).
	* add a scheduler task to check if a FE user must be removed from a FE group membership (voucher extension)

2014-03-06 Franz Holzinger <franz@ttproducts.de>
	* fix bug #50838
	* fix bug with not shown Direct Mail categories
	* modify module_sys_dmail_category in the TCE to show all categories
	for all countries

2014-02-15 Franz Holzinger <franz@ttproducts.de>
	* New feature: alphaSpecials. Allow usernames with umlauts.
	* New feature: send an email to recreate a forgotten password
	* support alternative for the removed fe_admin_fieldList in TYPO3 6.2
	* change all class names from prefix tx-agency into agency
	* allow the empty default security level FE oginSecurityLevel
	* fix bug: wrong conf array in tx_agency_data
	* fix bugs in invitation process
	* fix bug: fix CSS class names

2013-12-28 Franz Holzinger <franz@ttproducts.de>
	* Fix bug #50607: sr_freecap Captcha might not be accepted after submission

2013-11-19 Franz Holzinger <franz@ttproducts.de>
	* fix bug #53741: remove apostrophe

2013-11-16 Franz Holzinger <franz@ttproducts.de>
	* bug fix to autologin
	* add new subpart ###TEMPLATE_SETFIXED_LOGIN_FAILED###

2013-09-24 Franz Holzinger <franz@ttproducts.de>
	* new setup captcha for support of diversal captcha extensions
	* enhancements to some hook functions

2013-08-05 Franz Holzinger <franz@ttproducts.de>
	* fix security issue TYPO3-EXT-SA-2013-011

2013-07-31 Franz Holzinger <franz@ttproducts.de>
	* fix bug #50607

2013-07-31 Franz Holzinger <franz@ttproducts.de>
	* use the markers for all fields in emails (part II)
	* modification to the captcha hooks interface

2013-07-27 Franz Holzinger <franz@ttproducts.de>
	* use the markers for all fields in emails

2013-07-12 Franz Holzinger <franz@ttproducts.de>
	* fix bug #49881
	* do not query static_languages with default language

2013-07-09 Franz Holzinger <franz@ttproducts.de>
	* fix bug #49802
	* fix bugs from sr_feuser_register

2013-06-21 Franz Holzinger <franz@ttproducts.de>
	* fix bug #37022
	* support older versions of static_info_tables

2013-06-13 Franz Holzinger <franz@ttproducts.de>
	* back to the features of sr_feuser_register 2.6.3 including the sending of a forgotten password
	* The initial version starts as a fork from sr_feuser_register 3.0.1 with slight enhancements
